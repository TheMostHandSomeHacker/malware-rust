use crate::file::get_app_data_path;

pub fn parse_master_string(data: String) -> String
{
    let mut secret_key = String::new();
    if let Some(mut idx) = data.find("encrypted_key") {
        idx += 16;
        let data_chars = data.chars().collect::<Vec<char>>();

        while idx < data_chars.len() && data_chars[idx] != '\"' {
            secret_key.push(data_chars[idx]);
            idx += 1;
        }
    }
    secret_key
}

pub fn get_master_key() -> Result<String, String>
{
    let app_data_path = get_app_data_path();
    Ok(app_data_path)
}